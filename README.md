# Fullstack QA API Testing Framework

## О проекте

Это учебный проект для практики автоматизации API тестирования с использованием Python.  
В проекте реализованы примеры тестирования REST API ([https://reqres.in](https://reqres.in)) с использованием библиотеки `requests`, моделей данных с помощью `pydantic`, а также `pytest` и `allure` для запуска тестов и отчетности.

---

## Проект включает:

- Абстрактный базовый клиент (`base_client.py`) с универсальным методом для HTTP-запросов  
- Клиент (`client.py`) с бизнес-логикой для работы с API Reqres.in, включая методы `GET`, `POST`, `PUT`, `PATCH` и `DELETE`  
- Модели данных (`models.py`) на основе `Pydantic` для валидации и парсинга ответов API  
- Конфигурацию (`config.py`) с использованием переменных окружения из `.env` (через `python-dotenv`) для базового URL и API ключа  
- Логирование HTTP-запросов и ответов в консоль через модуль `logging` с возможностью гибкой настройки уровня логов  
- Тесты с использованием `pytest` и `allure` для генерации отчетов  
- Фикстуры (`conftest.py`) для удобного создания и передачи клиента в тестах  
- Настройки `pytest` (`pytest.ini`) с включённым логированием в консоль и генерацией allure-отчетов  
- Интеграция с CI/CD (`GitHub Actions`) для автоматического запуска тестов и сбора allure-отчетов при пушах и pull request в основную ветку  
- Обработка ошибок с использованием кастомных исключений для повышения надёжности тестового фреймворка  

## Установка и запуск

1. Клонируйте репозиторий:

```bash
git clone https://github.com/iskvoznyakov/fullstack-qa-api.git
cd fullstack-qa-api
```

2. Создайте и активируйте виртуальное окружение (опционально):

```bash
python -m venv venv
source venv/bin/activate  # Linux/macOS
venv\Scripts\activate   # Windows
```

3. Установите зависимости:

```bash
pip install -r requirements.txt
```

4. Создайте файл `.env` и добавьте переменные окружения:

```env
BASE_URL=https://reqres.in/api
API_KEY=your_api_key_here
```

5. Запустите тесты:

```bash
pytest
```

6. Сгенерируйте отчет Allure:

```bash
allure serve allure-results
```

## Конфигурация

Проект использует файл `.env` для хранения конфиденциальных данных и настроек:

- `BASE_URL` — базовый URL API  
- `API_KEY` — ключ доступа к API  

Используется библиотека `python-dotenv` для автоматической загрузки переменных окружения.

## CI/CD

Для автоматического запуска тестов настроен GitHub Actions workflow (`.github/workflows/run-api-tests.yml`):

- Клонирование репозитория  
- Установка Python и зависимостей  
- Запуск тестов и генерация Allure отчетов  
- Загрузка артефактов отчетов для последующего анализа  

## Логирование и обработка ошибок

- Логирование запросов и ответов реализовано в `utils/logger.py`  
- Используются кастомные исключения для удобства обработки ошибок  
- Параметр `raise_on_error` позволяет контролировать поведение при ошибках API  

## Контакты

- Telegram — [@head662](https://t.me/head662)  
- Email — iliaskvozniakov@mail.ru | iskvoznyakov@yandex.ru